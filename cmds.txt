#nextjs

* it is used to make full stack applications
all the components which we export default run on backend side and not on frontend which is different then react.
due to this less js code for client side.
only the html return is send to client side thus great for SEO. thus we can inspact the page and will be able to see the html code
thus we need to use 'use client' so that the log you added in the export function is avaible in the client size.

* page.tsx ,layout.tsx, not-found.tsx, error.tsx, loading.tsx, route.tsx are reservered file names.
page.tsx acts are index file for the folder to provide entry point for the route.
layout.tsx file follows the hirerchay we can have nexted layouts and an layout file has a scope of parent folder.
not-found.tsx Fallback page for "Not Found" errors (thrown by sibling or nested pages or layouts). notFound() method can be used to trigger not found page anywhere in the code.
error.tsx  Fallback page for other errors (thrown by sibling pages or nested pages or layouts)
loading.tsx Fallback page which is shown whilst sibling or nested pages (or layouts) are fetching data
route.tsx Allows you to create an API route (i.e., a page which does NOT return JSX code but instead data, e.g., in the JSON format)

* next/link , next/image
<Link href="wfwfwfwf" /> doesn't make a request to server
<Image src="wefwnfwonh" width={} height={}> lazy loads the image, also adds srcset to pick the best image,fill can be used instead of width and height for auto space taking

* import type { Metadata } from "next"
export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};
<head></head>
export const metadata (reserved keyword)
If there parent folder has been given metadata the children folders or routes will have the same meta data unless you mention it in the childer routes(folder).
{adding meta data to dynamic routes [slug]. 
  [slug]/page.tsx
  export async function generatedMetadata({ params }){
    return {
      title:"...",
    }
  }
}

* import { useFormStatus, useFormState } from 'react-dom';
const {pending} = useFormStatus(); pending with will true if there is an ongoing form submit event.
useFormState() has been changed to useActionState() now. useFormState()

* app/icon.png will automatically be applied as page icon

* routing
folder structure represents routing, routeName/page.tsx the starting point for the route
parall routing, including two or more routes in a single route. parallel routes folder are represented by @foldername
app/**/route.js file is use to handle all the http requests
{
  /middleware.js
  
  import {NextResponse} from 'next/server';
  export function middleware(request){
    return NextResponse.next();//.redirect("...")
  }
}

* component
just make a file and export function init.
then import where you want as a tag.

* we can use @ to refer to root folder. this is done by default in tsconfig.json file

* [slug] (folder) to create a vaible name folder used to passing id's. if we have a [folder] and a folder with same name entered by client then that folder will take the presidance 

* export default function anything({param,children}){}
param for getting the [id] enter by client
getting the contents for child folder(child routes or pages)

* styling
by default nextjs uses tailwind
a css file can be imported by 'import "./globals.css";' any where and will be available everywhere
'import sty from anyname.module.css' now will be used by className={sty.classname} this is add a random generated name so that it's unique and applies only once

* next/navigation
import {usePathname} from 'next/navigation'; to give name current path 

import { Suspense, useActionState} from "react";
{Suspense is used for components what might need some time,
<Suspense fallback={<p>Fetching products...</p>}>   //fallback will be shown untill latestproducts tag is compelete executing
<LatestProducts />    //contains fetch request
</Suspense>}




* security
"npm i xss" taking inputs directly from user is dangerous thus xss filters the inputs

# sql db
npm install better-sqlite3 (this don't need any sql server).
npm i -D @types/better-sqlite3 (to make is compatible with typescript)
node filename.js (will where db is defined, this will generate the db);

* cacheing
nextjs in production mode(npm run build) caches the whole page due to which in production it doesn't make request to server.
revalidatePath('/anyRoute','page') this makes request to the server to avoid cacheing in production mod, revalidatePath('/anyRoute','layout') this makes the whole whole layout not cache making everything that depends on that component not getting cached
Request Memoization caching : same request with same configuration are cache to reduce same request.
data caching : data is cache untill modification
full route cache : full html cache
router cache

#github

git remote add origin git@github.com-second:rajnishad24082003/nextjs-course.git


# changing opacity in ubuntu

["Visual Studio Code","Google Chrome"]

name="Visual Studio Code"
opacityPercent=100
bash -c "for W in \$(wmctrl -l | grep \"$name\" | awk '{print \$1}'); do
  xprop -id \$W -format _NET_WM_WINDOW_OPACITY 32c \
    -set _NET_WM_WINDOW_OPACITY \$(printf 0x%x \$((0xffffffff * $opacityPercent / 100)))
done"


